#include <stddef.h>
#include <stdint.h>
#include <stdlib.h>
#include <stdio.h>
#include "params.h"
#include "indcpa.h"
#include "polyvec.h"
#include "poly.h"
#include "ntt_test.h"
#include "reduce.h"

int16_t data_in[256]= {0x0, 0xfffe, 0x0, 0x2, 0xfffe, 0xfffe, 0x1, 0xffff, 0x1, 0xffff, 0x0, 0x2, 0x0, 0x0, 0x1, 0xffff, 0x1, 0x0, 0x1, 0x2, 0xffff,\
				0x0, 0x1, 0xfffe, 0xffff, 0x0, 0xfffe, 0x1, 0xffff, 0x1, 0x0, 0x0, 0xffff, 0x0, 0x0, 0x0, 0x1, 0x0, 0xffff, 0xfffe, 0x0, 0x2,\
				0x0, 0x1, 0xffff, 0x1, 0x0, 0x1, 0x0, 0xfffe, 0x0, 0x0, 0x0, 0xffff, 0x0, 0x0, 0xfffe, 0xffff, 0x0, 0xffff, 0xfffe, 0x1, 0x0,\
				0x0, 0xffff, 0xffff, 0x0, 0x0, 0x0, 0x0, 0xfffe, 0x0, 0x0, 0x0, 0xfffe, 0xffff, 0xfffe, 0x0, 0x0, 0x2, 0x0, 0x1, 0x0, 0x0, 0x1,\
				0x1, 0xffff, 0x1, 0x0, 0x0, 0x0, 0x0, 0xffff, 0xffff, 0x1, 0xffff, 0x0, 0xfffe, 0xffff, 0x1, 0x0, 0x2, 0x2, 0x1, 0xffff, 0xffff,\
				0x0, 0x0, 0x0, 0x1, 0xffff, 0x0, 0x0, 0x0, 0x1, 0xffff, 0xffff, 0x0, 0x2, 0x0, 0x0, 0xffff, 0x0, 0x0, 0x1, 0x0, 0x1, 0xffff, 0x0,\
				0x0, 0xffff, 0x0, 0x0, 0x1, 0xffff, 0x2, 0x0, 0x1, 0x0, 0x1, 0x2, 0x0, 0x0, 0xffff, 0x0, 0xffff, 0x0, 0x1, 0x0, 0xffff, 0x0, 0x1,\
				0xffff, 0x0, 0x0, 0x0, 0x2, 0x0, 0x0, 0x1, 0x0, 0x0, 0x0, 0x0, 0xffff, 0x1, 0x1, 0xffff, 0xffff, 0x0, 0x0, 0xfffe, 0x0, 0x1, 0x0,\
				0xffff, 0x0, 0x2, 0x1, 0x1, 0xfffe, 0x1, 0x1, 0xffff, 0x0, 0x1, 0x0, 0xffff, 0xfffe, 0x0, 0x0, 0xffff, 0x0, 0x1, 0x1, 0xffff, 0xffff,\
				0x1, 0x0, 0x1, 0x0, 0x0, 0x0, 0x2, 0x1, 0x0, 0x0, 0x0, 0xffff, 0xffff, 0xfffe, 0xffff, 0x2, 0x0, 0x1, 0x2, 0x1, 0x0, 0xffff, 0x0, 0x0,\
				0xffff, 0xffff, 0x1, 0xffff, 0xffff, 0xffff, 0xffff, 0xffff, 0xffff, 0x0, 0xffff, 0x0, 0xffff, 0xffff, 0xffff, 0xfffe, 0x0, 0x0, 0x1,\
				0x2, 0x0, 0x0, 0x1, 0x0, 0x1, 0xffff, 0xffff, 0x1, 0xffff, 0x1, 0x0, 0x1, 0xfffe, 0x2, 0x0};



int main(void)
{
  // unsigned int i;
  // uint8_t pk[CRYPTO_PUBLICKEYBYTES];
  // uint8_t sk[CRYPTO_SECRETKEYBYTES];
  // uint8_t ct[CRYPTO_CIPHERTEXTBYTES];
  // uint8_t key[CRYPTO_BYTES];
  // uint8_t kexsenda[KEX_AKE_SENDABYTES];
  // uint8_t kexsendb[KEX_AKE_SENDBBYTES];
  // uint8_t kexkey[KEX_SSBYTES];
  // for (uint16_t i=0; i<256;i++)
  // {
  //   printf("ntt data in barrett reduce %d=0x%x\n",i,barrett_reduce(data_in[i]));
  // }
    for (uint16_t i=0; i<256;i++)
  {
    printf("ntt data in mont reduce %d=0x%x\n",i,montgomery_reduce(data_in[i]));
  }
  ntt_test(data_in);
  
  for (uint16_t i=0; i<256;i++)
  {
    printf("ntt data out %d=0x%x\n",i,data_in[i]);
  }
  invntt_test(data_in);
  printf("=========================================\n");
  for (uint16_t i=0; i<256;i++)
  {
    printf("invntt data out %d=0x%x\n",i,data_in[i]);
  }  
  // for (uint16_t i=0; i<256;i++)
  // {
  //   printf("ntt data out barrett reduce %d=0x%x\n",i,barrett_reduce(data_in[i]));
  // }
  //   for (uint16_t i=0; i<256;i++)
  // {
  //   printf("ntt data out mont reduce %d=0x%x\n",i,montgomery_reduce(data_in[i]));
  // }
}
